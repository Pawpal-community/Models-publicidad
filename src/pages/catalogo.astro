---
import GradiantText from "../components/shared/GradiantText.astro";
import Title from "../components/shared/Title.astro";
import Layout from "../layouts/Layout.astro";
import images from "../services/cloudinaryService";
import type { Modelo } from "../utils/types";
import BtnLink from "../components/shared/BtnLink.astro";
import CatalogoWithFilter from "../components/React/CatalogoWithFilter";

// Asegúrate de que images sea del tipo Modelo[]
const modelos: Modelo[] = images.map((modelo) => ({
  nombre: modelo.nombre,
  ciudad: modelo.ciudad,
  fotos: modelo.fotos.map((foto) => ({
    url: foto.url,
    alt: foto.alt || `Foto de ${modelo.nombre}`,
  })),
}));
---

<Layout title="Catalogo">
  <section class="md:px-10 w-[90%] max-w-[450px] md:max-w-[none] mx-auto lg:max-w-[1600px] px-4 py-20 md:py-32">
    <div class="container flex flex-col items-center mx-auto px-4 gap-3">
      <Title>
        Catálogo de Modelos y Edecanes<GradiantText>Para realizar Eventos y Activaciones</GradiantText>
      </Title>
      <BtnLink href="/#gallery" text="volver atras" variant="primary" />
    </div>
    
    <!-- Componente React con filtros para el catálogo completo -->
    <CatalogoWithFilter modelos={modelos} client:load />
    
    <div class="container flex flex-col items-center mx-auto pt-6">
      <BtnLink href="/#gallery" text="volver atras" variant="primary" />
    </div>
  </section>
</Layout>