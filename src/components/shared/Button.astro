---
// Define props interface
export interface Props {
    className?: string;
    phoneNumber: string; // WhatsApp phone number
    message?: string; // Optional pre-filled message
}

// Extract props with defaults
const { 
    className, 
    phoneNumber = "50496602891", 
    message = "Hola, me interesa su servicio de edecanes" 
} = Astro.props;

// Encode message for URL
const encodedMessage = encodeURIComponent(message);

// Construct WhatsApp URL
const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
---

<a 
    href={whatsappUrl} 
    target="_blank" 
    rel="noopener noreferrer"
    class={`flex items-center justify-center gap-2 
        bg-[#3B82F6] text-white px-6 py-3 
        rounded-full font-bold 
        hover:bg-[#128C7E] 
        transition-colors duration-300 ease-in-out 
        shadow-lg group ${className}`}
>
    <svg
        class="w-5 h-5 text-white"
        viewBox="0 0 24 24"
        fill="currentColor"
        xmlns="http://www.w3.org/2000/svg"
    >
        <path d="M20.52 3.48A11.99 11.99 0 1 0 1.5 17.94L.27 23.73l5.91-1.55A12 12 0 0 0 12 24c6.63 0 12-5.37 12-12 0-3.19-1.24-6.2-3.48-8.52ZM12 22a9.96 9.96 0 0 1-5.24-1.47l-.38-.23-3.5.92.92-3.5-.23-.38A9.96 9.96 0 1 1 12 22Zm4.66-7.64c-.26-.13-1.54-.76-1.78-.85-.24-.09-.41-.13-.59.13-.18.26-.68.85-.84 1.03-.15.18-.31.2-.57.07-.26-.13-1.08-.4-2.06-1.28a7.68 7.68 0 0 1-1.78-2.18c-.18-.3 0-.46.13-.63.13-.15.3-.34.44-.51.15-.17.2-.29.3-.5.1-.21.05-.38-.03-.51-.08-.13-.58-1.39-.79-1.9-.21-.5-.42-.43-.58-.44-.15-.01-.32-.02-.49-.02-.17 0-.46.07-.7.34-.24.26-.92.9-.92 2.18 0 1.28.94 2.52 1.08 2.7.13.18 1.87 2.85 4.5 4a6.19 6.19 0 0 0 3.05.83c.48 0 .92-.05 1.28-.13.39-.09 1.25-.51 1.42-1.01.18-.5.18-.92.13-1.01-.05-.08-.24-.13-.5-.26Z" />
    </svg>
    <slot>Cont√°ctanos por WhatsApp</slot>
</a>
